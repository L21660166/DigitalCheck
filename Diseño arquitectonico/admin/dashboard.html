<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Administrador · SET</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    :root{
      --bg:#f8fafc;
      --card:#ffffff;
      --primary:#1e40af;
      --primary-light:#3b82f6;
      --accent:#0ea5e9;
      --success:#10b981;
      --danger:#ef4444;
      --warning:#f59e0b;
      --info:#06b6d4;
      --muted:#64748b;
      --border:#e2e8f0;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --radius:12px;
    }

    *{box-sizing:border-box; margin:0; padding:0}
    html,body{height:100%; overflow:hidden}
    body{
      font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:var(--bg);
      color:#1e293b;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale; 
      min-height:100vh;
    }

    /* ============ NAVBAR ============ */
    .navbar {
      background: white;
      box-shadow: var(--shadow);
      padding: 0 25px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      border-bottom: 1px solid var(--border);
    }

    .navbar-left {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .nav-logo {
      width: 45px;
      height: 45px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 20px;
    }

    .navbar-title h2 {
      font-size: 18px;
      color: var(--primary);
      font-weight: 700;
      margin-bottom: 2px;
    }

    .navbar-title span {
      font-size: 12px;
      color: var(--muted);
    }

    .navbar-center {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .nav-menu {
      display: flex;
      gap: 5px;
      background: #f8fafc;
      padding: 5px;
      border-radius: 10px;
      border: 1px solid var(--border);
    }

    .nav-menu-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border: none;
      background: transparent;
      border-radius: 8px;
      color: var(--muted);
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .nav-menu-btn:hover {
      background: rgba(30, 64, 175, 0.08);
      color: var(--primary);
    }

    .nav-menu-btn.active {
      background: var(--primary);
      color: white;
    }

    .navbar-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .user-dropdown {
      position: relative;
    }

    .user-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 6px 12px;
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .user-btn:hover {
      background: white;
      box-shadow: var(--shadow);
    }

    .user-avatar {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, #f59e0b, #ef4444);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: white;
      font-size: 16px;
    }

    .user-info {
      text-align: left;
    }

    .user-name {
      font-size: 14px;
      font-weight: 600;
      color: var(--primary);
    }

    .user-role {
      font-size: 11px;
      color: var(--muted);
    }

    .user-menu {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 8px;
      background: white;
      border-radius: 8px;
      box-shadow: var(--shadow-lg);
      min-width: 180px;
      display: none;
      z-index: 100;
      border: 1px solid var(--border);
    }

    .user-dropdown:hover .user-menu {
      display: block;
    }

    .user-menu-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      color: var(--muted);
      text-decoration: none;
      border-bottom: 1px solid #f1f5f9;
      transition: all 0.2s;
      cursor: pointer;
    }

    .user-menu-item:hover {
      background: #f8fafc;
      color: var(--primary);
    }

    .user-menu-item:last-child {
      border-bottom: none;
    }

    .user-menu-item i {
      font-size: 18px;
      width: 24px;
    }

    .logout-btn {
      color: var(--danger) !important;
    }

    .logout-btn:hover {
      background: #fee2e2 !important;
    }

    /* ============ CONTENIDO PRINCIPAL ============ */
    .dashboard-container {
      padding-top: 80px;
      height: calc(100vh - 80px);
      overflow: hidden;
      display: flex;
      gap: 20px;
      padding: 80px 20px 20px;
    }

    /* Sidebar con acciones rápidas */
    .sidebar {
      width: 300px;
      background: var(--card);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      height: calc(100vh - 100px);
      border: 1px solid var(--border);
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--border);
    }

    .sidebar-header .logo {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: white;
      font-weight: 800;
      font-size: 18px;
    }

    .sidebar-header h3 {
      font-size: 16px;
      font-weight: 700;
      color: var(--primary);
    }

    .sidebar-header span {
      font-size: 12px;
      color: var(--muted);
    }

    /* Panel de acciones rápidas */
    .quick-actions-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .action-section {
      background: #f8fafc;
      border-radius: var(--radius);
      padding: 15px;
      border: 1px solid var(--border);
    }

    .action-section h4 {
      font-size: 14px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .action-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px;
      background: white;
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--muted);
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
    }

    .action-btn:hover {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .action-btn i {
      font-size: 18px;
      width: 24px;
    }

    /* Contenido principal del dashboard */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 20px;
      height: calc(100vh - 100px);
      overflow: hidden;
    }

    /* Estadísticas en tiempo real */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
    }

    .stat-card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      border-left: 4px solid;
      transition: all 0.3s;
      height: 110px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .stat-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }

    .stat-card.sales { border-color: var(--success); }
    .stat-card.cash { border-color: var(--warning); }
    .stat-card.turnos { border-color: var(--primary); }
    .stat-card.inventory { border-color: var(--danger); }

    .stat-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .stat-title h3 {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 5px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 800;
      color: #1e293b;
      line-height: 1;
    }

    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 20px;
    }

    .stat-card.sales .stat-icon { background: var(--success); }
    .stat-card.cash .stat-icon { background: var(--warning); }
    .stat-card.turnos .stat-icon { background: var(--primary); }
    .stat-card.inventory .stat-icon { background: var(--danger); }

    .stat-trend {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      margin-top: 5px;
    }

    .trend-up { color: var(--success); }
    .trend-down { color: var(--danger); }

    /* Sección media: Gráfico y actividades */
    .mid-section {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 20px;
      flex: 1;
      min-height: 0;
    }

    .chart-container, .activity-container {
      background: var(--card);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      height: 100%;
      display: flex;
      flex-direction: column;
      border: 1px solid var(--border);
    }

    .chart-header, .activity-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .chart-header h3, .activity-header h3 {
      font-size: 16px;
      font-weight: 700;
      color: #1e293b;
    }

    .sparkline-container {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
    }

    /* Lista de actividades */
    .activity-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      flex: 1;
      overflow-y: auto;
    }

    .activity-item {
      background: #f8fafc;
      border-radius: 8px;
      padding: 15px;
      border-left: 4px solid;
      transition: all 0.2s;
    }

    .activity-item:hover {
      background: white;
      box-shadow: var(--shadow);
    }

    .activity-item.incidence { border-color: var(--danger); }
    .activity-item.turno { border-color: var(--primary); }
    .activity-item.inventory { border-color: var(--warning); }

    .activity-text {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 5px;
      color: #1e293b;
    }

    .activity-meta {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--muted);
    }

    .activity-time {
      font-weight: 500;
    }

    /* Sección inferior: Información detallada */
    .bottom-section {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      height: 250px;
    }

    .info-panel {
      background: var(--card);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      border: 1px solid var(--border);
      overflow: hidden;
    }

    .info-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border);
    }

    .info-header h3 {
      font-size: 15px;
      font-weight: 700;
      color: #1e293b;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .info-content {
      flex: 1;
      overflow-y: auto;
      padding-right: 5px;
    }

    /* Tablas compactas */
    .compact-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    .compact-table th {
      text-align: left;
      padding: 8px;
      border-bottom: 1px solid var(--border);
      color: var(--muted);
      font-weight: 600;
      position: sticky;
      top: 0;
      background: var(--card);
    }

    .compact-table td {
      padding: 8px;
      border-bottom: 1px dashed var(--border);
    }

    .status-badge {
      padding: 4px 8px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      display: inline-block;
    }

    .status-completed { background: #d1fae5; color: var(--success); }
    .status-in-progress { background: #dbeafe; color: var(--primary); }
    .status-pending { background: #fef3c7; color: var(--warning); }
    .status-critical { background: #fee2e2; color: var(--danger); }

    /* Lista de retiros */
    .withdrawal-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px dashed var(--border);
    }

    .withdrawal-item:last-child {
      border-bottom: none;
    }

    .withdrawal-amount {
      font-weight: 700;
      color: var(--danger);
      font-size: 14px;
    }

    .withdrawal-details {
      font-size: 12px;
      color: var(--muted);
    }

    .withdrawal-dest {
      font-weight: 500;
      color: #1e293b;
    }

    /* Scroll personalizado */
    .info-content::-webkit-scrollbar,
    .activity-list::-webkit-scrollbar {
      width: 6px;
    }

    .info-content::-webkit-scrollbar-track,
    .activity-list::-webkit-scrollbar-track {
      background: #f1f5f9;
      border-radius: 3px;
    }

    .info-content::-webkit-scrollbar-thumb,
    .activity-list::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 3px;
    }

    .info-content::-webkit-scrollbar-thumb:hover,
    .activity-list::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }

    /* Modales */
    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.5);
      z-index: 10000;
      padding: 20px;
    }

    .modal.show {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 24px;
      border-radius: var(--radius);
      width: 100%;
      max-width: 500px;
      box-shadow: var(--shadow-lg);
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--border);
    }

    .modal-header h3 {
      font-size: 18px;
      font-weight: 700;
      color: #1e293b;
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      color: var(--muted);
      cursor: pointer;
      line-height: 1;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 6px;
      font-weight: 600;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 14px;
      background: white;
      transition: all 0.2s;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
    }

    .modal-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 24px;
    }

    /* Botones */
    .btn {
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-light);
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .btn-secondary {
      background: white;
      color: var(--primary);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      background: #f8fafc;
    }

    /* Responsive */
    @media (max-width: 1400px) {
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .mid-section {
        grid-template-columns: 1fr;
        height: 400px;
      }
      
      .bottom-section {
        grid-template-columns: 1fr;
        height: auto;
      }
    }

    @media (max-width: 1024px) {
      .dashboard-container {
        flex-direction: column;
        padding: 80px 15px 15px;
      }
      
      .sidebar {
        width: 100%;
        height: auto;
      }
      
      .main-content {
        height: auto;
      }
    }

    @media (max-width: 768px) {
      .navbar-center {
        display: none;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Animaciones */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: none; }
    }

    .animated {
      animation: fadeIn 0.3s ease both;
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="navbar-left">
      <div class="nav-logo">SET</div>
      <div class="navbar-title">
        <h2>Sistema de Entrega de Turno</h2>
        <span>Dashboard Administrador</span>
      </div>
    </div>

    <div class="navbar-center">
      <div class="nav-menu">
        <button class="nav-menu-btn active" data-view="overview">
          <i class="material-icons">dashboard</i>
          Resumen
        </button>
        <button class="nav-menu-btn" data-view="turnos">
          <i class="material-icons">swap_horiz</i>
          Turnos
        </button>
        <button class="nav-menu-btn" data-view="inventario">
          <i class="material-icons">inventory</i>
          Inventario
        </button>
        <button class="nav-menu-btn" data-view="finanzas">
          <i class="material-icons">attach_money</i>
          Finanzas
        </button>
      </div>
    </div>

    <div class="navbar-right">
      <div class="user-dropdown">
        <button class="user-btn">
          <div class="user-avatar">M</div>
          <div class="user-info">
            <div class="user-name">Miguel Rodríguez</div>
            <div class="user-role">Administrador</div>
          </div>
          <i class="material-icons">arrow_drop_down</i>
        </button>
        <div class="user-menu">
          <div class="user-menu-item" id="profileBtn">
            <i class="material-icons">person</i>
            <span>Mi Perfil</span>
          </div>
          <div class="user-menu-item" id="settingsBtn">
            <i class="material-icons">settings</i>
            <span>Configuración</span>
          </div>
          <div class="user-menu-item logout-btn" id="logoutBtn">
            <i class="material-icons">logout</i>
            <span>Cerrar Sesión</span>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- CONTENIDO PRINCIPAL -->
  <div class="dashboard-container">
    <!-- Sidebar con acciones rápidas -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">SET</div>
        <div>
          <h3>Panel de Control</h3>
          <span>Acciones Rápidas</span>
        </div>
      </div>

      <div class="quick-actions-panel">
        <!-- Sección: Bitácora de Turnos -->
        <div class="action-section">
          <h4><i class="material-icons">swap_horiz</i> Bitácora de Turnos</h4>
          <div class="action-buttons">
            <button class="action-btn" onclick="openModal('modalNewTurn')">
              <i class="material-icons">add_circle</i>
              Crear Nuevo Turno
            </button>
            <button class="action-btn" onclick="viewAllShifts()">
              <i class="material-icons">list</i>
              Ver Todos los Turnos
            </button>
            <button class="action-btn" onclick="reviewPendingShifts()">
              <i class="material-icons">visibility</i>
              Revisar Pendientes
            </button>
            <button class="action-btn" onclick="generateShiftReport()">
              <i class="material-icons">assessment</i>
              Generar Reporte
            </button>
          </div>
        </div>

        <!-- Sección: Inventario y Stock -->
        <div class="action-section">
          <h4><i class="material-icons">inventory</i> Inventario / Stock</h4>
          <div class="action-buttons">
            <button class="action-btn" onclick="openModal('modalNewProduct')">
              <i class="material-icons">add_box</i>
              Agregar Producto
            </button>
            <button class="action-btn" onclick="updateStock()">
              <i class="material-icons">edit</i>
              Actualizar Stock
            </button>
            <button class="action-btn" onclick="viewCriticalStock()">
              <i class="material-icons">warning</i>
              Stock Crítico
            </button>
            <button class="action-btn" onclick="generateInventoryReport()">
              <i class="material-icons">history</i>
              Bitácora Inventario
            </button>
          </div>
        </div>

        <!-- Sección: Control de Dinero -->
        <div class="action-section">
          <h4><i class="material-icons">payments</i> Control de Dinero</h4>
          <div class="action-buttons">
            <button class="action-btn" onclick="openModal('modalWithdraw')">
              <i class="material-icons">money_off</i>
              Registrar Retiro
            </button>
            <button class="action-btn" onclick="viewCashFlow()">
              <i class="material-icons">trending_up</i>
              Ver Flujo de Caja
            </button>
            <button class="action-btn" onclick="checkDiscrepancies()">
              <i class="material-icons">compare</i>
              Verificar Diferencias
            </button>
            <button class="action-btn" onclick="generateFinanceReport()">
              <i class="material-icons">receipt</i>
              Reporte Financiero
            </button>
          </div>
        </div>

        <!-- Sección: Gestión Personal -->
        <div class="action-section">
          <h4><i class="material-icons">people</i> Gestión de Personal</h4>
          <div class="action-buttons">
            <button class="action-btn" onclick="openModal('modalNewEmployee')">
              <i class="material-icons">person_add</i>
              Agregar Empleado
            </button>
            <button class="action-btn" onclick="viewSchedule()">
              <i class="material-icons">schedule</i>
              Ver Horarios
            </button>
            <button class="action-btn" onclick="manageIncidents()">
              <i class="material-icons">warning</i>
              Gestionar Incidencias
            </button>
          </div>
        </div>
      </div>
    </aside>

    <!-- Área principal del dashboard -->
    <main class="main-content">
      <!-- Estadísticas en tiempo real -->
      <section class="stats-grid">
        <div class="stat-card sales animated">
          <div class="stat-header">
            <div class="stat-title">
              <h3>VENTAS DEL DÍA</h3>
              <div class="stat-value" id="salesValue">$24,580</div>
              <div class="stat-trend trend-up">
                <i class="material-icons" style="font-size: 14px;">trending_up</i>
                <span>+12% vs ayer</span>
              </div>
            </div>
            <div class="stat-icon">
              <i class="material-icons">trending_up</i>
            </div>
          </div>
        </div>

        <div class="stat-card cash animated">
          <div class="stat-header">
            <div class="stat-title">
              <h3>EFECTIVO EN CAJA</h3>
              <div class="stat-value" id="cashValue">$8,420</div>
              <div class="stat-trend trend-down">
                <i class="material-icons" style="font-size: 14px;">trending_down</i>
                <span>- $4,250 retirados</span>
              </div>
            </div>
            <div class="stat-icon">
              <i class="material-icons">attach_money</i>
            </div>
          </div>
        </div>

        <div class="stat-card turnos animated">
          <div class="stat-header">
            <div class="stat-title">
              <h3>TURNOS ACTIVOS</h3>
              <div class="stat-value" id="shiftsValue">3</div>
              <div class="stat-trend trend-up">
                <i class="material-icons" style="font-size: 14px;">schedule</i>
                <span>83% completados</span>
              </div>
            </div>
            <div class="stat-icon">
              <i class="material-icons">swap_horiz</i>
            </div>
          </div>
        </div>

        <div class="stat-card inventory animated">
          <div class="stat-header">
            <div class="stat-title">
              <h3>STOCK CRÍTICO</h3>
              <div class="stat-value" id="inventoryValue">5</div>
              <div class="stat-trend trend-down">
                <i class="material-icons" style="font-size: 14px;">warning</i>
                <span>Productos en espera</span>
              </div>
            </div>
            <div class="stat-icon">
              <i class="material-icons">inventory</i>
            </div>
          </div>
        </div>
      </section>

      <!-- Sección media: Gráfico y actividades -->
      <section class="mid-section">
        <div class="chart-container">
          <div class="chart-header">
            <h3>VENTAS · ÚLTIMOS 7 DÍAS</h3>
            <button class="btn-secondary" onclick="exportChartData()">
              <i class="material-icons">download</i>
              Exportar
            </button>
          </div>
          <div class="sparkline-container">
            <svg id="salesSparkline" width="100%" height="120" viewBox="0 0 600 120" preserveAspectRatio="none"></svg>
          </div>
          <div style="display: flex; justify-content: space-between; font-size: 13px; color: var(--muted); margin-top: 10px;">
            <div>Último: <strong id="lastSale">$1,500</strong></div>
            <div>Promedio: <strong id="avgSale">$1,024</strong></div>
            <div>Total: <strong id="totalSales">$24,580</strong></div>
          </div>
        </div>

        <div class="activity-container">
          <div class="activity-header">
            <h3>ACTIVIDAD RECIENTE</h3>
            <button class="btn-secondary" onclick="viewAllActivities()">
              <i class="material-icons">more_horiz</i>
              Ver todo
            </button>
          </div>
          <div class="activity-list" id="activityList">
            <!-- Actividades se cargan aquí -->
          </div>
        </div>
      </section>

      <!-- Sección inferior: Paneles de información -->
      <section class="bottom-section">
        
      </section>
    </main>
  </div>

  <!-- MODALES -->
  <!-- Modal: Nuevo Retiro -->
  <div class="modal" id="modalWithdraw">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Registrar Retiro de Dinero</h3>
        <button class="close-btn" onclick="closeModal('modalWithdraw')">&times;</button>
      </div>
      <div class="form-group">
        <label>Monto a retirar</label>
        <input type="number" id="withdrawAmount" placeholder="Ej: 1500" min="1" step="0.01">
      </div>
      <div class="form-group">
        <label>¿A dónde fue el dinero?</label>
        <select id="withdrawDestination">
          <option value="">Seleccionar destino</option>
          <option value="proveedor">Proveedor</option>
          <option value="banco">Banco (Depósito)</option>
          <option value="gastos_operativos">Gastos Operativos</option>
          <option value="pago_personal">Pago a Personal</option>
          <option value="compra_materiales">Compra de Materiales</option>
          <option value="otros">Otros</option>
        </select>
      </div>
      <div class="form-group">
        <label>Especificar destino (si es necesario)</label>
        <input type="text" id="withdrawDetail" placeholder="Ej: Proveedor XYZ, Materiales de limpieza">
      </div>
      <div class="form-group">
        <label>Motivo del retiro</label>
        <textarea id="withdrawReason" rows="3" placeholder="Detalle del motivo del retiro"></textarea>
      </div>
      <div class="modal-actions">
        <button class="btn-secondary" onclick="closeModal('modalWithdraw')">Cancelar</button>
        <button class="btn-primary" onclick="saveWithdrawal()">Registrar Retiro</button>
      </div>
    </div>
  </div>

  <!-- Modal: Nuevo Turno -->
  <div class="modal" id="modalNewTurn">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Crear Nuevo Turno</h3>
        <button class="close-btn" onclick="closeModal('modalNewTurn')">&times;</button>
      </div>
      <div class="form-group">
        <label>Sucursal</label>
        <select id="turnoSucursal">
          <option value="centro">Sucursal Centro</option>
          <option value="norte">Sucursal Norte</option>
          <option value="sur">Sucursal Sur</option>
        </select>
      </div>
      <div class="form-group">
        <label>Supervisor Responsable</label>
        <select id="turnoSupervisor">
          <option value="miguel">Miguel Rodríguez</option>
          <option value="ana">Ana García</option>
          <option value="carlos">Carlos Mendoza</option>
          <option value="laura">Laura Fernández</option>
        </select>
      </div>
      <div class="form-group">
        <label>Turno</label>
        <select id="turnoTipo">
          <option value="matutino">Matutino (8:00 - 16:00)</option>
          <option value="vespertino">Vespertino (16:00 - 00:00)</option>
          <option value="nocturno">Nocturno (00:00 - 8:00)</option>
        </select>
      </div>
      <div class="form-group">
        <label>Actividades Especiales</label>
        <textarea id="turnoActividades" rows="3" placeholder="Actividades específicas para este turno"></textarea>
      </div>
      <div class="modal-actions">
        <button class="btn-secondary" onclick="closeModal('modalNewTurn')">Cancelar</button>
        <button class="btn-primary" onclick="saveNewTurn()">Crear Turno</button>
      </div>
    </div>
  </div>

  <!-- Modal: Nuevo Producto -->
  <div class="modal" id="modalNewProduct">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Agregar Producto al Inventario</h3>
        <button class="close-btn" onclick="closeModal('modalNewProduct')">&times;</button>
      </div>
      <div class="form-group">
        <label>Nombre del Producto</label>
        <input type="text" id="productName" placeholder="Ej: Papel A4, Detergente, Guantes">
      </div>
      <div class="form-group">
        <label>Código SKU</label>
        <input type="text" id="productSKU" placeholder="Ej: PROD-001">
      </div>
      <div class="form-group">
        <label>Categoría</label>
        <select id="productCategory">
          <option value="limpieza">Limpieza</option>
          <option value="oficina">Oficina</option>
          <option value="materiales">Materiales</option>
          <option value="insumos">Insumos</option>
          <option value="equipo">Equipo</option>
        </select>
      </div>
      <div class="form-group">
        <label>Stock Inicial</label>
        <input type="number" id="productStock" placeholder="0" min="0">
      </div>
      <div class="form-group">
        <label>Stock Mínimo (alerta)</label>
        <input type="number" id="productMinStock" placeholder="5" min="1">
      </div>
      <div class="modal-actions">
        <button class="btn-secondary" onclick="closeModal('modalNewProduct')">Cancelar</button>
        <button class="btn-primary" onclick="saveNewProduct()">Guardar Producto</button>
      </div>
    </div>
  </div>

  <!-- Modal: Nuevo Empleado -->
  <div class="modal" id="modalNewEmployee">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Agregar Nuevo Empleado</h3>
        <button class="close-btn" onclick="closeModal('modalNewEmployee')">&times;</button>
      </div>
      <div class="form-group">
        <label>Nombre Completo</label>
        <input type="text" id="employeeName" placeholder="Nombre y apellidos">
      </div>
      <div class="form-group">
        <label>Puesto</label>
        <select id="employeePosition">
          <option value="supervisor">Supervisor</option>
          <option value="cajero">Cajero</option>
          <option value="operario">Operario</option>
          <option value="almacen">Almacén</option>
          <option value="limpieza">Limpieza</option>
        </select>
      </div>
      <div class="form-group">
        <label>Sucursal Asignada</label>
        <select id="employeeBranch">
          <option value="centro">Sucursal Centro</option>
          <option value="norte">Sucursal Norte</option>
          <option value="sur">Sucursal Sur</option>
        </select>
      </div>
      <div class="form-group">
        <label>Turno Preferido</label>
        <select id="employeeShift">
          <option value="matutino">Matutino</option>
          <option value="vespertino">Vespertino</option>
          <option value="mixto">Mixto</option>
        </select>
      </div>
      <div class="modal-actions">
        <button class="btn-secondary" onclick="closeModal('modalNewEmployee')">Cancelar</button>
        <button class="btn-primary" onclick="saveNewEmployee()">Guardar Empleado</button>
      </div>
    </div>
  </div>

  <script>
    // Datos de ejemplo para SET
    let data = {
      salesToday: 24580,
      cash: 8420,
      shiftsActive: 3,
      criticalStock: 5,
      
      sales7: [1200, 950, 1800, 2200, 1900, 2100, 1500],
      
      activities: [
        {id: 1, text: 'Turno matutino iniciado - Suc. Centro', type: 'turno', time: '08:00', details: 'Supervisor: Miguel'},
        {id: 2, text: 'Retiro registrado: $500 - Proveedor', type: 'incidence', time: '09:30', details: 'Destino: Compra insumos'},
        {id: 3, text: 'Stock crítico: Papel A4 (2 unidades)', type: 'inventory', time: '10:15', details: 'Mínimo: 10 unidades'},
        {id: 4, text: 'Entrega turno: Vespertino iniciado', type: 'turno', time: '16:00', details: 'Supervisor: Ana'},
        {id: 5, text: 'Incidencia: Diferencia $250 en caja', type: 'incidence', time: '17:45', details: 'Turno: Matutino'}
      ],
      
      shifts: [
        {id: 'T-001', responsable: 'Miguel R.', estado: 'completed', sucursal: 'Centro', turno: 'Matutino'},
        {id: 'T-002', responsable: 'Ana G.', estado: 'in-progress', sucursal: 'Norte', turno: 'Matutino'},
        {id: 'T-003', responsable: 'Carlos M.', estado: 'pending', sucursal: 'Sur', turno: 'Matutino'},
        {id: 'T-004', responsable: 'Laura F.', estado: 'in-progress', sucursal: 'Centro', turno: 'Vespertino'}
      ],
      
      inventory: [
        {id: 1, producto: 'Papel A4', stock: 3, minStock: 10, estado: 'critical'},
        {id: 2, producto: 'Guantes', stock: 0, minStock: 5, estado: 'critical'},
        {id: 3, producto: 'Detergente', stock: 12, minStock: 8, estado: 'normal'},
        {id: 4, producto: 'Bolígrafos', stock: 8, minStock: 10, estado: 'warning'},
        {id: 5, producto: 'Toallas', stock: 2, minStock: 5, estado: 'critical'}
      ],
      
      withdrawals: [
        {id: 1, amount: 500, destination: 'Proveedor A', detail: 'Compra insumos', time: '09:00', reason: 'Reposición de inventario'},
        {id: 2, amount: 200, destination: 'Gastos menores', detail: 'Transporte', time: '14:30', reason: 'Taxi para entregas'},
        {id: 3, amount: 1200, destination: 'Banco', detail: 'Depósito', time: '10:15', reason: 'Depósito de ventas'}
      ]
    };

    // Inicializar dashboard
    function initDashboard() {
      updateStats();
      renderActivities();
      renderShifts();
      renderInventory();
      renderWithdrawals();
      drawSparkline();
      setupEventListeners();
    }

    // Actualizar estadísticas
    function updateStats() {
      document.getElementById('salesValue').textContent = '$' + data.salesToday.toLocaleString();
      document.getElementById('cashValue').textContent = '$' + data.cash.toLocaleString();
      document.getElementById('shiftsValue').textContent = data.shiftsActive;
      document.getElementById('inventoryValue').textContent = data.criticalStock;
      document.getElementById('totalSales').textContent = '$' + data.salesToday.toLocaleString();
    }

    // Renderizar actividades
    function renderActivities() {
      const container = document.getElementById('activityList');
      container.innerHTML = '';
      
      data.activities.forEach(activity => {
        const item = document.createElement('div');
        item.className = `activity-item ${activity.type}`;
        
        const icon = activity.type === 'turno' ? 'swap_horiz' : 
                    activity.type === 'incidence' ? 'warning' : 'inventory';
        
        item.innerHTML = `
          <div class="activity-text">${activity.text}</div>
          <div class="activity-meta">
            <span class="activity-time">${activity.time}</span>
            <span style="font-size: 11px; color: var(--muted);">${activity.details}</span>
          </div>
        `;
        container.appendChild(item);
      });
    }

    // Renderizar turnos
    function renderShifts() {
      const table = document.getElementById('shiftsTable');
      table.innerHTML = '';
      
      data.shifts.forEach(shift => {
        const row = document.createElement('tr');
        
        let statusClass, statusText;
        switch(shift.estado) {
          case 'completed':
            statusClass = 'status-completed';
            statusText = 'Completado';
            break;
          case 'in-progress':
            statusClass = 'status-in-progress';
            statusText = 'En curso';
            break;
          case 'pending':
            statusClass = 'status-pending';
            statusText = 'Pendiente';
            break;
          default:
            statusClass = 'status-pending';
            statusText = 'Pendiente';
        }
        
        row.innerHTML = `
          <td>${shift.id}</td>
          <td>${shift.responsable}</td>
          <td><span class="status-badge ${statusClass}">${statusText}</span></td>
        `;
        table.appendChild(row);
      });
    }

    // Renderizar inventario
    function renderInventory() {
      const table = document.getElementById('inventoryTable');
      table.innerHTML = '';
      
      // Filtrar solo productos críticos
      const criticalItems = data.inventory.filter(item => item.estado === 'critical' || item.estado === 'warning');
      
      criticalItems.forEach(item => {
        const row = document.createElement('tr');
        
        let statusClass, statusText;
        if (item.estado === 'critical') {
          statusClass = 'status-critical';
          statusText = 'CRÍTICO';
        } else {
          statusClass = 'status-pending';
          statusText = 'BAJO';
        }
        
        row.innerHTML = `
          <td>${item.producto}</td>
          <td>${item.stock}</td>
          <td><span class="status-badge ${statusClass}">${statusText}</span></td>
        `;
        table.appendChild(row);
      });
    }

    // Renderizar retiros
    function renderWithdrawals() {
      const container = document.getElementById('withdrawalsList');
      container.innerHTML = '';
      
      data.withdrawals.forEach(withdrawal => {
        const item = document.createElement('div');
        item.className = 'withdrawal-item';
        
        item.innerHTML = `
          <div>
            <div class="withdrawal-dest">${withdrawal.destination}</div>
            <div class="withdrawal-details">${withdrawal.detail}</div>
          </div>
          <div class="withdrawal-amount">$${withdrawal.amount}</div>
        `;
        container.appendChild(item);
      });
    }

    // Dibujar gráfico de ventas
    function drawSparkline() {
      const svg = document.getElementById('salesSparkline');
      svg.innerHTML = '';
      
      const sales = data.sales7;
      const max = Math.max(...sales);
      const min = Math.min(...sales);
      const range = max - min || 1;
      
      // Crear puntos para la línea
      const points = sales.map((value, index) => {
        const x = (index / (sales.length - 1)) * 580 + 10;
        const y = 110 - ((value - min) / range) * 100;
        return `${x},${y}`;
      }).join(' ');
      
      // Crear área de relleno
      const areaPoints = `${points} 590,110 10,110`;
      const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
      polygon.setAttribute('points', areaPoints);
      polygon.setAttribute('fill', 'rgba(30, 64, 175, 0.1)');
      polygon.setAttribute('stroke', 'none');
      
      // Crear línea
      const polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');
      polyline.setAttribute('points', points);
      polyline.setAttribute('fill', 'none');
      polyline.setAttribute('stroke', 'var(--primary)');
      polyline.setAttribute('stroke-width', '3');
      polyline.setAttribute('stroke-linecap', 'round');
      polyline.setAttribute('stroke-linejoin', 'round');
      
      svg.appendChild(polygon);
      svg.appendChild(polyline);
      
      // Actualizar estadísticas
      const lastSale = sales[sales.length - 1];
      const avgSale = Math.round(sales.reduce((a, b) => a + b) / sales.length);
      
      document.getElementById('lastSale').textContent = '$' + lastSale.toLocaleString();
      document.getElementById('avgSale').textContent = '$' + avgSale.toLocaleString();
    }

    // Configurar eventos
    function setupEventListeners() {
      // Botón de perfil
      document.getElementById('profileBtn').addEventListener('click', function() {
        alert('Funcionalidad de perfil en desarrollo');
      });

      // Botón de configuración
      document.getElementById('settingsBtn').addEventListener('click', function() {
        alert('Funcionalidad de configuración en desarrollo');
      });

      // Botón de cerrar sesión
      document.getElementById('logoutBtn').addEventListener('click', function() {
        if (confirm('¿Estás seguro que deseas cerrar sesión?')) {
          alert('Sesión cerrada. Redirigiendo al login...');
          // En producción: window.location.href = 'login.html';
        }
      });

      // Botones del menú principal
      document.querySelectorAll('.nav-menu-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.nav-menu-btn').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          showNotification(`Vista cambiada a: ${this.textContent.trim()}`);
        });
      });
    }

    // Funciones para botones de acción rápida
    function viewAllShifts() {
      alert('Mostrando todos los turnos...\n\nTotal de turnos: ' + data.shifts.length);
    }

    function reviewPendingShifts() {
      const pending = data.shifts.filter(s => s.estado === 'pending');
      alert(`Turnos pendientes: ${pending.length}\n\n${pending.map(s => `• ${s.id} - ${s.responsable} (${s.sucursal})`).join('\n')}`);
    }

    function generateShiftReport() {
      alert('Generando reporte de turnos...\n\nReporte descargado exitosamente.');
    }

    function updateStock() {
      alert('Actualizando stock...\n\nSeleccione los productos a actualizar.');
    }

    function viewCriticalStock() {
      const critical = data.inventory.filter(i => i.estado === 'critical');
      alert(`Productos con stock crítico: ${critical.length}\n\n${critical.map(i => `• ${i.producto}: ${i.stock} unidades (mínimo: ${i.minStock})`).join('\n')}`);
    }

    function generateInventoryReport() {
      alert('Generando bitácora de inventario...\n\nReporte descargado exitosamente.');
    }

    function viewCashFlow() {
      alert('Mostrando flujo de caja...\n\nEntradas: $' + data.salesToday + '\nSalidas: $' + data.withdrawals.reduce((sum, w) => sum + w.amount, 0));
    }

    function checkDiscrepancies() {
      alert('Verificando diferencias...\n\nNo se encontraron discrepancias significativas.');
    }

    function generateFinanceReport() {
      alert('Generando reporte financiero...\n\nReporte descargado exitosamente.');
    }

    function viewSchedule() {
      alert('Mostrando horarios del personal...');
    }

    function manageIncidents() {
      alert('Gestionando incidencias...\n\nIncidencias activas: ' + data.activities.filter(a => a.type === 'incidence').length);
    }

    function exportChartData() {
      alert('Exportando datos del gráfico...\n\nDatos descargados exitosamente.');
    }

    function viewAllActivities() {
      alert('Mostrando todas las actividades...\n\nTotal de actividades: ' + data.activities.length);
    }

    // Funciones de los modales
    function openModal(modalId) {
      document.getElementById(modalId).classList.add('show');
    }

    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('show');
    }

    function saveWithdrawal() {
      const amount = parseFloat(document.getElementById('withdrawAmount').value);
      const destination = document.getElementById('withdrawDestination').value;
      const detail = document.getElementById('withdrawDetail').value;
      const reason = document.getElementById('withdrawReason').value;
      
      if (!amount || amount <= 0) {
        alert('Por favor, ingresa un monto válido');
        return;
      }
      
      if (!destination) {
        alert('Por favor, selecciona un destino');
        return;
      }
      
      const newWithdrawal = {
        id: data.withdrawals.length + 1,
        amount: amount,
        destination: destination === 'proveedor' ? 'Proveedor' :
                   destination === 'banco' ? 'Banco' :
                   destination === 'gastos_operativos' ? 'Gastos Operativos' :
                   destination === 'pago_personal' ? 'Pago a Personal' :
                   destination === 'compra_materiales' ? 'Compra de Materiales' : 'Otros',
        detail: detail || 'Sin detalle adicional',
        time: new Date().toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }),
        reason: reason || 'Sin motivo especificado'
      };
      
      // Actualizar datos
      data.withdrawals.unshift(newWithdrawal);
      data.cash = Math.max(0, data.cash - amount);
      
      // Actualizar interfaz
      updateStats();
      renderWithdrawals();
      closeModal('modalWithdraw');
      showNotification(`Retiro de $${amount} registrado exitosamente`);
      
      // Limpiar formulario
      document.getElementById('withdrawAmount').value = '';
      document.getElementById('withdrawDestination').value = '';
      document.getElementById('withdrawDetail').value = '';
      document.getElementById('withdrawReason').value = '';
    }

    function saveNewTurn() {
      const sucursal = document.getElementById('turnoSucursal').value;
      const supervisor = document.getElementById('turnoSupervisor').value;
      const tipo = document.getElementById('turnoTipo').value;
      const actividades = document.getElementById('turnoActividades').value;
      
      const sucursalText = sucursal === 'centro' ? 'Centro' :
                          sucursal === 'norte' ? 'Norte' : 'Sur';
      
      const supervisorText = supervisor === 'miguel' ? 'Miguel Rodríguez' :
                            supervisor === 'ana' ? 'Ana García' :
                            supervisor === 'carlos' ? 'Carlos Mendoza' : 'Laura Fernández';
      
      const tipoText = tipo === 'matutino' ? 'Matutino' :
                      tipo === 'vespertino' ? 'Vespertino' : 'Nocturno';
      
      const newShift = {
        id: 'T-' + (data.shifts.length + 1).toString().padStart(3, '0'),
        responsable: supervisorText,
        estado: 'pending',
        sucursal: sucursalText,
        turno: tipoText
      };
      
      // Actualizar datos
      data.shifts.unshift(newShift);
      data.shiftsActive++;
      
      // Agregar actividad
      data.activities.unshift({
        id: data.activities.length + 1,
        text: `Nuevo turno creado - ${sucursalText} (${tipoText})`,
        type: 'turno',
        time: new Date().toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }),
        details: `Supervisor: ${supervisorText}`
      });
      
      // Actualizar interfaz
      updateStats();
      renderShifts();
      renderActivities();
      closeModal('modalNewTurn');
      showNotification('Turno creado exitosamente');
      
      // Limpiar formulario
      document.getElementById('turnoActividades').value = '';
    }

    function saveNewProduct() {
      const name = document.getElementById('productName').value.trim();
      const sku = document.getElementById('productSKU').value.trim();
      const category = document.getElementById('productCategory').value;
      const stock = parseInt(document.getElementById('productStock').value) || 0;
      const minStock = parseInt(document.getElementById('productMinStock').value) || 1;
      
      if (!name || !sku) {
        alert('Por favor, completa el nombre y SKU del producto');
        return;
      }
      
      const estado = stock <= minStock ? (stock === 0 ? 'critical' : 'warning') : 'normal';
      
      const newProduct = {
        id: data.inventory.length + 1,
        producto: name,
        stock: stock,
        minStock: minStock,
        estado: estado
      };
      
      // Actualizar datos
      data.inventory.unshift(newProduct);
      
      // Contar productos críticos
      data.criticalStock = data.inventory.filter(item => item.estado === 'critical').length;
      
      // Agregar actividad
      data.activities.unshift({
        id: data.activities.length + 1,
        text: `Nuevo producto agregado: ${name}`,
        type: 'inventory',
        time: new Date().toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }),
        details: `SKU: ${sku} | Stock: ${stock}`
      });
      
      // Actualizar interfaz
      updateStats();
      renderInventory();
      renderActivities();
      closeModal('modalNewProduct');
      showNotification('Producto agregado al inventario');
      
      // Limpiar formulario
      document.getElementById('productName').value = '';
      document.getElementById('productSKU').value = '';
      document.getElementById('productStock').value = '';
      document.getElementById('productMinStock').value = '';
    }

    function saveNewEmployee() {
      const name = document.getElementById('employeeName').value.trim();
      const position = document.getElementById('employeePosition').value;
      const branch = document.getElementById('employeeBranch').value;
      const shift = document.getElementById('employeeShift').value;
      
      if (!name) {
        alert('Por favor, ingresa el nombre del empleado');
        return;
      }
      
      const positionText = position === 'supervisor' ? 'Supervisor' :
                          position === 'cajero' ? 'Cajero' :
                          position === 'operario' ? 'Operario' :
                          position === 'almacen' ? 'Almacén' : 'Limpieza';
      
      const branchText = branch === 'centro' ? 'Sucursal Centro' :
                        branch === 'norte' ? 'Sucursal Norte' : 'Sucursal Sur';
      
      const shiftText = shift === 'matutino' ? 'Matutino' :
                       shift === 'vespertino' ? 'Vespertino' : 'Mixto';
      
      // Agregar actividad
      data.activities.unshift({
        id: data.activities.length + 1,
        text: `Nuevo empleado registrado: ${name}`,
        type: 'turno',
        time: new Date().toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }),
        details: `${positionText} | ${branchText}`
      });
      
      // Actualizar interfaz
      renderActivities();
      closeModal('modalNewEmployee');
      showNotification('Empleado registrado exitosamente');
      
      // Limpiar formulario
      document.getElementById('employeeName').value = '';
    }

    // Mostrar notificación
    function showNotification(message) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 90px;
        right: 20px;
        background: var(--primary);
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: var(--shadow-lg);
        z-index: 10000;
        animation: fadeIn 0.3s, fadeOut 0.3s 2.7s;
        font-weight: 600;
        max-width: 300px;
      `;
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    // Simular datos en tiempo real
    function simulateRealTimeData() {
      // Simular pequeñas variaciones en los datos
      const variation = Math.random() > 0.5 ? 1 : -1;
      const salesChange = Math.floor(Math.random() * 200) * variation;
      const cashChange = Math.floor(Math.random() * 100) - 50;
      
      data.salesToday = Math.max(20000, data.salesToday + salesChange);
      data.cash = Math.max(0, data.cash + cashChange);
      
      // Actualizar gráfico con nuevo dato
      data.sales7.shift();
      data.sales7.push(Math.max(500, data.sales7[data.sales7.length - 1] + Math.floor(Math.random() * 300) - 150));
      
      // Actualizar interfaz
      updateStats();
      drawSparkline();
    }

    // Inicializar cuando cargue la página
    document.addEventListener('DOMContentLoaded', initDashboard);
    
    // Simular actualización de datos cada 30 segundos
    setInterval(simulateRealTimeData, 30000);
    
    // Añadir animación CSS para las notificaciones
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes fadeOut {
        from { opacity: 1; transform: translateY(0); }
        to { opacity: 0; transform: translateY(-10px); }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>
